"use strict";(self.webpackChunkreact_quiz=self.webpackChunkreact_quiz||[]).push([[283],{283:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var n=s(56),i=s(43),l=s(125),r=s(216),a=s(579);const o=e=>{let{endResult:t}=e;const{elapsedTime:s,answers:n}=t,o=(0,r.Zp)(),c=(0,i.useMemo)((()=>{let e=0;for(let t=0;t<n.length;t++)n[t].correct&&e++;return e}),[n]),u=Math.round(c/n.length*100);let d="";d=u>=70?"text-green-500":u>50?"text-orange-500":"text-red-500";return(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Quiz Results"}),(0,a.jsxs)("p",{className:"text-2xl font-bold mb-4 ".concat(d),children:["Percentage: ",u,"%"]}),(0,a.jsxs)("p",{className:"text-xl mb-4",children:["Correct Answers: ",c," / ",n.length]}),(0,a.jsxs)("p",{className:"text-xl mb-4",children:["Time Taken: ",s," seconds"]}),(0,a.jsx)("button",{onClick:()=>{o(l.u.HOME)},className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Close"})]})})};const c=e=>{let{timeLimit:t,isFinished:s}=e;const{minutesLeft:n,secondsLeft:l}=function(e,t){const[s,n]=(0,i.useState)(60*e);return(0,i.useEffect)((()=>{if(s<=0||t)return;const e=setInterval((()=>{n((e=>e-1))}),1e3);return()=>clearInterval(e)}),[s,t]),{minutesLeft:Math.floor(s/60),secondsLeft:s%60}}(t,s);return(0,a.jsx)("div",{className:"flex justify-center items-center mt-4",children:(0,a.jsxs)("div",{className:"text-".concat(s?"green":"red","-500 font-bold mb-4 text-2xl"),children:["Time remaining: ",n,":",l<10?"0".concat(l):l]})})};let u=function(e){return e.Answers="answers",e}({});class d{static setItem(e,t){return localStorage.setItem(e,function(e){return null===e&&void 0===e?"":"string"===typeof e?e:JSON.stringify(e)}(t))}static getItem(e){return localStorage.getItem(e)}static removeItem(e){localStorage.removeItem(e)}static clear(){localStorage.clear()}}function m(e){let{question:t,questionNumber:s,totalQuestions:n,onNext:l,quizTitle:r}=e;const[a,o]=(0,i.useState)(null),[c,m]=(0,i.useState)(!1),[x,h]=(0,i.useState)(!1),[b,g]=(0,i.useState)([]),[f,j]=(0,i.useState)(null),[p,N]=(0,i.useState)(null),[w,y]=(0,i.useState)(null),C=(0,i.useCallback)((e=>{const t=e.target.value;!c&&t&&o(Number(t))}),[o,c]),q=(0,i.useCallback)((()=>{if(null!==a){const e=t.correct_answers.includes(a);h(e),m(!0),g((t=>[...t,{questionId:s,answerId:a,correct:e}])),s===n&&N(new Date)}}),[m,h,t,a,g,s,N,n]),v=(0,i.useCallback)((()=>{if(s===n&&f&&p){const e=(new Date).toISOString().split(".")[0],t=function(e,t){const s=e&&t?(t.getTime()-e.getTime())/1e3:0,n=Math.floor(s/60),i=Math.floor(s%60);return"".concat(n,":").concat(i<10?"0"+i:i)}(f,p),s=d.getItem(u.Answers),n=s?JSON.parse(s):[],i={title:r,date:e,elapsedTime:t,answers:b};y(i);const l=[...n,i];d.setItem(u.Answers,JSON.stringify(l))}else l(),o(null),m(!1),h(!1)}),[b,s,n,l,r,p,f]);return(0,i.useEffect)((()=>{f||j(new Date)}),[f]),{isConfirmed:c,isCorrect:x,selectedOption:a,handleOptionChange:C,handleConfirm:q,handleNextClick:v,isFinished:!!p,endResult:w}}const x=e=>{let{question:t,questionNumber:s,totalQuestions:n,onNext:i,quizTitle:l,timeLimit:r}=e;const{isConfirmed:u,isCorrect:d,selectedOption:x,handleOptionChange:h,handleConfirm:b,handleNextClick:g,isFinished:f,endResult:j}=m({question:t,questionNumber:s,totalQuestions:n,onNext:i,quizTitle:l});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{timeLimit:r,isFinished:f}),(0,a.jsxs)("div",{className:"p-6 rounded-lg shadow-md border w-full max-w-xl mx-auto ".concat(u?d?"bg-green-100":"bg-red-100":"bg-white"," mb-6"),children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["Question ",s," of ",n]}),(0,a.jsx)("p",{className:"text-gray-800 mb-4",children:t.text}),(0,a.jsx)("ul",{children:t.options.map((e=>(0,a.jsx)("li",{className:"mb-2",children:(0,a.jsx)("label",{className:"flex items-center cursor-pointer w-full",children:(0,a.jsxs)("span",{className:"inline-block flex items-center p-2 border rounded-lg shadow-sm transition-colors ".concat(x===e.id?"bg-gray-300":"bg-gray-100"," ").concat(u&&x===e.id?d?"bg-green-100":"bg-red-100":""," hover:bg-gray-200 w-full"),style:{pointerEvents:u?"none":"auto"},children:[(0,a.jsx)("input",{type:"radio",name:"question-".concat(t.id),value:e.id,checked:x===e.id,onChange:h,disabled:u,className:"mx-3"}),e.text]})})},e.id)))}),u?(0,a.jsx)("button",{onClick:g,className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 mt-4",children:s===n?"Finish":"Next"}):(0,a.jsx)("button",{onClick:b,className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 mt-4",children:"Confirm"})]}),!!j&&(0,a.jsx)(o,{endResult:j})]})},h=e=>{let{quizInfo:t,startQuiz:s}=e;const{title:n,category:i,difficulty:l,timeLimit:r}=t;return(0,a.jsx)("div",{className:"flex justify-center items-center mt-10",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200 w-96",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:n}),(0,a.jsxs)("p",{className:"text-gray-700 mb-2",children:["Category: ",i]}),(0,a.jsxs)("p",{className:"text-gray-700 mb-2",children:["Difficulty: ",l]}),(0,a.jsxs)("p",{className:"text-gray-700 mb-4",children:["Time limit: ",r," minutes"]}),(0,a.jsx)("button",{onClick:s,className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Start Quiz"})]})})},b=e=>{let{quizInfo:t}=e;const[s,n]=(0,i.useState)({inProcess:0}),l=(0,i.useCallback)((()=>{n((e=>({inProcess:e.inProcess+1})))}),[n]),r=(0,i.useMemo)((()=>t.questions.find((e=>e.id===s.inProcess))),[t,s.inProcess]);return(0,a.jsx)(a.Fragment,{children:s.inProcess&&r?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(x,{question:r,onNext:l,questionNumber:s.inProcess,totalQuestions:t.questions.length,quizTitle:t.title,timeLimit:t.timeLimit})}):(0,a.jsx)(h,{quizInfo:t,startQuiz:l})})};var g=s(888);var f=s(847);const j=()=>{const{id:e}=(0,r.g)(),{quizzesData:t,requestStatus:s}=(0,f.t)({}),{currentQuiz:l}=function(e){let{id:t,data:s}=e;const[n,l]=(0,i.useState)(null);return(0,i.useEffect)((()=>{if(t&&s&&s.length>0){const e=s.find((e=>e.title===t));e?l(e):console.error("Quiz with id ".concat(t," not found."))}}),[s,t]),{currentQuiz:n}}({id:e,data:t});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Y9,{title:e?"Quiz #".concat(e):""}),s===g.X.Pending&&(0,a.jsx)(n.aH,{}),!!l&&(0,a.jsx)(b,{quizInfo:l})]})}}}]);
//# sourceMappingURL=283.d2ad78fe.chunk.js.map