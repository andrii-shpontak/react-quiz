"use strict";(self.webpackChunkreact_quiz=self.webpackChunkreact_quiz||[]).push([[136],{136:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var r=s(56),a=s(43),n=s(888),c=s(476),l=s(350),o=s(180),i=s(962);var d=s(579);const u=()=>{const[e,t]=(0,a.useState)(null),{quizInHistory:s,requestStatus:u}=function(){const[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(n.X.Idle),c=(0,a.useCallback)((async()=>{r(n.X.Pending);try{const e=await new Promise((e=>{const t=o.s.getItem(l.H.Answers),s=t?JSON.parse(t):null;setTimeout((()=>e(s)),i.X)}));e&&t(e),r(n.X.Success)}catch(e){console.error("Failed to fetch quizzes:",e),r(n.X.Error)}}),[r,t]);return(0,a.useEffect)((()=>{c()}),[]),{quizInHistory:e,requestStatus:s}}(),m=(0,a.useCallback)((s=>{const r=s.currentTarget.getAttribute("data-index");r&&t(e===Number(r)?null:Number(r))}),[t,e]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(r.Y9,{title:"Quizzes History"}),s?s.map(((t,s)=>{const{percentageColor:r,percentage:a,correctOfAll:n,elapsedTime:l}=(0,c.h)(t);return(0,d.jsxs)("div",{className:"border border-gray-200 rounded m-3",children:[(0,d.jsx)("div",{className:"p-4 cursor-pointer","data-index":s,onClick:m,children:(0,d.jsx)("h3",{className:"text-lg font-semibold",children:t.title})}),(0,d.jsxs)("div",{className:"p-4 bg-gray-100 ".concat(e===s?"":"hidden"),children:[(0,d.jsxs)("p",{className:"text-xl mb-2",children:["Date: ",t.date]}),(0,d.jsxs)("p",{className:"text-xl mb-2",children:["Time Taken: ",l]}),(0,d.jsxs)("p",{className:"text-xl font-bold mb-2 ".concat(r),children:["Percentage: ",a,"%"]}),(0,d.jsxs)("p",{className:"text-xl mb-2",children:["Correct Answers: ",n]}),(0,d.jsxs)("p",{className:"text-xl mb-2",children:["Time Taken: ",l," seconds"]})]})]},s)})):(0,d.jsxs)("div",{className:"m-3 p-4 border border-gray-200 rounded bg-yellow-100 text-yellow-800",children:[(0,d.jsx)("p",{className:"text-lg",children:"You haven't completed any quizzes yet."}),(0,d.jsx)("p",{children:"Start a quiz to see your history here."})]})]}),u===n.X.Pending&&(0,d.jsx)(r.aH,{})]})}},180:(e,t,s)=>{s.d(t,{s:()=>r});class r{static setItem(e,t){return localStorage.setItem(e,function(e){return null===e&&void 0===e?"":"string"===typeof e?e:JSON.stringify(e)}(t))}static getItem(e){return localStorage.getItem(e)}static removeItem(e){localStorage.removeItem(e)}static clear(){localStorage.clear()}}},350:(e,t,s)=>{s.d(t,{H:()=>r});let r=function(e){return e.Answers="answers",e.Quizzes="quizzes",e}({})},888:(e,t,s)=>{s.d(t,{X:()=>r});let r=function(e){return e.Idle="Idle",e.Pending="Pending",e.Success="Success",e.Error="Error",e}({})},476:(e,t,s)=>{function r(e){const{elapsedTime:t,answers:s}=e;let r=0;for(let l=0;l<s.length;l++)s[l].correct&&r++;const a=Math.round(r/s.length*100),n="".concat(r," / ").concat(s.length);let c="";switch(!0){case a>=70:c="text-green-500";break;case a>50:c="text-orange-500";break;default:c="text-red-500"}return{percentageColor:c,percentage:a,correctOfAll:n,elapsedTime:t}}s.d(t,{h:()=>r})},962:(e,t,s)=>{s.d(t,{X:()=>r});const r=(a=500,n=2e3,Math.floor(Math.random()*(n-a+1))+a);var a,n}}]);
//# sourceMappingURL=136.43ac6e52.chunk.js.map