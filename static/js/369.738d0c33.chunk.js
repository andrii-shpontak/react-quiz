"use strict";(self.webpackChunkreact_quiz=self.webpackChunkreact_quiz||[]).push([[369],{369:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var r=s(56),i=s(43),n=s(125),a=s(350),o=s(180),c=s(888),l=s(962),d=s(216);var u=s(899);const m=["Frontend","Backend","Devops"],x=["simple","medium","difficult"],p={title:"",timeLimit:1,category:m[0],difficulty:x[0],custom:!0,questions:[{id:1,text:"",options:[{id:1,text:""}],correct_answers:[]}]};var h=s(892),b=s(579);const j=()=>{const{values:e,setFieldValue:t}=(0,h.j7)();return(0,b.jsxs)(h.lV,{className:"p-4 max-w-[800px] mx-auto",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-gray-700",children:"Title"}),(0,b.jsx)(h.D0,{type:"text",name:"title",className:"w-full px-3 py-2 border rounded"}),(0,b.jsx)(h.Kw,{name:"title",component:"div",className:"text-red-500"})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-gray-700",children:"Time Limit (minutes)"}),(0,b.jsx)(h.D0,{type:"number",name:"timeLimit",className:"w-full px-3 py-2 border rounded"}),(0,b.jsx)(h.Kw,{name:"timeLimit",component:"div",className:"text-red-500"})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-gray-700",children:"Category"}),(0,b.jsx)(h.D0,{as:"select",name:"category",className:"w-full px-3 py-2 border rounded",children:m.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))}),(0,b.jsx)(h.Kw,{name:"category",component:"div",className:"text-red-500"})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-gray-700",children:"Difficulty"}),(0,b.jsx)(h.D0,{as:"select",name:"difficulty",className:"w-full px-3 py-2 border rounded",children:x.map((e=>(0,b.jsx)("option",{value:e,children:e},e)))}),(0,b.jsx)(h.Kw,{name:"difficulty",component:"div",className:"text-red-500"})]}),(0,b.jsx)(h.ED,{name:"questions",children:s=>{let{push:r,remove:i}=s;return(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Questions"}),e.questions.map(((s,r)=>(0,b.jsxs)("div",{className:"mb-4 p-4 border rounded",children:[(0,b.jsxs)("label",{className:"block text-gray-700",children:["Question ",r+1]}),(0,b.jsx)(h.D0,{type:"text",name:"questions.".concat(r,".text"),className:"w-full px-3 py-2 border rounded mb-2"}),(0,b.jsx)(h.Kw,{name:"questions.".concat(r,".text"),component:"div",className:"text-red-500"}),(0,b.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Options"}),(0,b.jsx)(h.ED,{name:"questions.".concat(r,".options"),children:i=>{let{push:n,remove:a}=i;return(0,b.jsxs)("div",{children:[s.options.map(((s,i)=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center mb-2",children:[(0,b.jsx)(h.D0,{type:"text",name:"questions.".concat(r,".options.").concat(i,".text"),className:"w-full px-3 py-2 border rounded mr-2"}),(0,b.jsx)(h.D0,{type:"checkbox",name:"questions.".concat(r,".correct_answers"),value:String(s.id),checked:e.questions[r].correct_answers.includes(s.id),onChange:i=>((s,r,i)=>{const{checked:n}=s.target,a=e.questions[r].correct_answers;t("questions.".concat(r,".correct_answers"),n?[...a,i]:a.filter((e=>e!==i)))})(i,r,s.id),className:"form-checkbox"}),(0,b.jsx)("button",{type:"button",onClick:()=>((e,t,s)=>{s(t)})(0,i,a),className:"ml-2 text-red-500 hover:text-red-700",children:"Remove Option"})]}),(0,b.jsx)(h.Kw,{name:"questions.".concat(r,".options.").concat(i,".text"),component:"div",className:"text-red-500"})]},i))),(0,b.jsx)(h.Kw,{name:"questions.".concat(r,".correct_answers"),component:"div",className:"text-red-500"}),(0,b.jsx)("button",{type:"button",onClick:()=>((t,s)=>{s({id:e.questions[t].options.length+1,text:""})})(r,n),className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Option"})]})}}),(0,b.jsx)("button",{type:"button",onClick:()=>((e,t)=>{t(e)})(r,i),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Question"})]},r))),(0,b.jsx)("button",{type:"button",onClick:()=>(t=>{t({id:e.questions.length+1,text:"",options:[{id:1,text:""}],correct_answers:[]})})(r),className:"mt-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Question"})]})}}),(0,b.jsx)("button",{type:"submit",className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Create Quiz"})]})},v=()=>{const e=(0,i.useMemo)((()=>u.Ik({title:u.Yj().required("Title is required"),timeLimit:u.ai().required("Time limit is required").positive("Must be positive"),category:u.Yj().oneOf(m).required("Category is required"),difficulty:u.Yj().oneOf(x).required("Difficulty is required"),questions:u.YO().of(u.Ik({text:u.Yj().required("Question is required"),options:u.YO().of(u.Ik({text:u.Yj().required("Question is required")})).min(1,"Must have at least one option").required("Question is required"),correct_answers:u.YO().of(u.ai()).min(1,"Must have at least one correct answer").required("Must have at least one correct answer")})).min(1,"Must have at least one question")})),[]),{handleSubmit:t,requestStatus:s}=function(){const[e,t]=(0,i.useState)(c.X.Idle),s=(0,d.Zp)();return{handleSubmit:(0,i.useCallback)((async e=>{t(c.X.Pending);try{await new Promise(((s,r)=>{setTimeout((()=>{try{const r=o.s.getItem(a.H.Quizzes),i=[...r?JSON.parse(r):[],e];o.s.setItem(a.H.Quizzes,JSON.stringify(i)),t(c.X.Success),s()}catch(i){console.error("Error while saving quiz:",i),t(c.X.Error),r(i)}}),l.X)})),s(n.u.HOME)}catch(r){throw console.error("Error while saving quiz:",r),r}}),[s]),requestStatus:e}}();return(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Y9,{title:"Create Quiz Page"}),(0,b.jsx)(h.l1,{initialValues:p,validationSchema:e,onSubmit:t,children:(0,b.jsx)(j,{})}),s===c.X.Pending&&(0,b.jsx)(r.aH,{})]})}},180:(e,t,s)=>{s.d(t,{s:()=>r});class r{static setItem(e,t){return localStorage.setItem(e,function(e){return null===e&&void 0===e?"":"string"===typeof e?e:JSON.stringify(e)}(t))}static getItem(e){return localStorage.getItem(e)}static removeItem(e){localStorage.removeItem(e)}static clear(){localStorage.clear()}}},350:(e,t,s)=>{s.d(t,{H:()=>r});let r=function(e){return e.Answers="answers",e.Quizzes="quizzes",e}({})},888:(e,t,s)=>{s.d(t,{X:()=>r});let r=function(e){return e.Idle="Idle",e.Pending="Pending",e.Success="Success",e.Error="Error",e}({})},962:(e,t,s)=>{s.d(t,{X:()=>r});const r=(i=500,n=2e3,Math.floor(Math.random()*(n-i+1))+i);var i,n}}]);
//# sourceMappingURL=369.738d0c33.chunk.js.map